<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Module1_AccountName</title>
</head>
<body>
<script>
    let checkValidate = false;
    let emailCustomer;
    let birthdayCustomer;
    let idCard;
    let discount;
    let numberOfAccompanying;
    let rentDays;
    let nameCustomer = prompt("Enter Name Customer: "); //ten;
    let nameStd = "";

    nameCustomer = nameCustomer.trim().toLocaleLowerCase();
    for (let i = 0; i < nameCustomer.length; i++) {
        if (nameCustomer.charAt(i) === " " && nameCustomer.charAt(i + 1) === " ") {
            continue;
        }
        if (i === 0 || nameCustomer.charAt(i - 1) === " ") {
            nameStd += nameCustomer.charAt(i).toLocaleUpperCase();
            continue;
        }
        nameStd += nameCustomer.charAt(i);
    }
    nameCustomer = nameStd;


    // let nameCustomer = prompt("Enter Name Customer: "); //ten
    // let idCard = prompt("Enter Id Card Customer: "); //CMND
    // let addressCustomer = prompt("Enter Address Customer: "); //dia chi
    // let typeCustomer = prompt("Enter Type Customer: "); // loại Customer (Diamond, Platinum, Gold, Silver, Member)
    // let typeRoom = prompt("Enter Type Room: "); //loại phòng thuê (Vip, Business,  Normal).
    // let typeService = prompt("Enter Type Service: "); //loại dịch vụ (Villa, House, Room)
    // let totalPays = 500 * Number.parseInt(rentDays) * (1 - Number.parseFloat(discount)) / 100;
    //hien thi thong tin

    do {
        checkValidate = false;
        rentDays = prompt("Enter Rent Days: "); //so ngay thue
        if (!isNaN(rentDays)) {
            rentDays = Number.parseFloat(rentDays);
            if (rentDays > 0 && Number.isInteger(rentDays)) {
                checkValidate = true;
            }
        }
        if (!checkValidate) {
            alert("khong hop le,vui long nhap lai");
        }
    }
    while (!checkValidate)
    {
    }
    ;


    do {
        checkValidate = false;
        numberOfAccompanying = prompt("Enter Number of Accompanying: "); //so luong nguoi di kem
        if (!isNaN(numberOfAccompanying)) {
            numberOfAccompanying = Number.parseFloat(numberOfAccompanying);
            if (numberOfAccompanying >= 0 && Number.isInteger(numberOfAccompanying)) {
                checkValidate = true;
            }
        }
        if (!checkValidate) {
            alert("khong hop le,vui long nhap lai");
        }
    }
    while (!checkValidate);


    do {
        checkValidate = false;
        discount = prompt("Enter Discout: "); //giam gia
        if (!isNaN(discount)) {
            discount = Number.parseFloat(discount);
            if (discount >= 0) {
                checkValidate = true;
            }
        }
        if (!checkValidate) {
            alert("Khong hop le,vui long nhap lai");
        }
    }
    while (!checkValidate);

    do {
        checkValidate = false;
        idCard = prompt("Enter Id Card Customer: "); //CMND
        if (isNaN(idCard)) {
            alert("Khong Hop Le");
            continue;
        }
        idCard = Number.parseFloat(idCard);
        if (!Number.isInteger(idCard)) {
            alert("khong hop le");
            continue;
        }
        if (idCard >= 100000000 && idCard <= 999999999) {
            checkValidate = true;
        } else {
            alert("khong hop le,vui long nhap lai");
        }


    } while (!checkValidate);


    do {
        checkValidate = false;
        birthdayCustomer = prompt("Enter Birthday Customer (dd/MM/YYYY): "); //Ngaysinh
        if (birthdayCustomer.charAt(2) != "/" || birthdayCustomer.charAt(5) != "/") {
            alert("Khong Hop Le");
            continue;
        }
        let day = birthdayCustomer.substring(0, 2);
        let month = birthdayCustomer.substring(3, 5);
        let year = birthdayCustomer.substring(6, 10);
        if (!isNaN(day) && !isNaN(month) && !isNaN(year)) {
            day = Number.parseFloat(day);
            month = Number.parseFloat(month);
            year = Number.parseFloat(year);
            if (Number.isInteger(day) && Number.isInteger(year) && Number.isInteger(month)) {
                if (day > 0 && day < 32 && month > 0 && month < 13 && year > 1890 && year < 2111) {
                    var flag;
                    if (year % 400 == 0) {
                        flag = true;
                    } else if (year % 4 == 0 && year % 100 != 0) {
                        flag = true;
                    } else {
                        flag = false;
                    }
                    if (flag) {
                        if (month == 2 && day > 29) {
                            alert("Khong Hop Le");

                        } else if (((month == 4) || (month == 6) || (month == 9) || (month == 11)) && day == 31) {
                            alert("Khong Hop Le");
                        } else {
                            checkValidate = true;
                        }
                    } else {
                        if (month == 2 && day > 28) {
                            alert("Khong Hop Le");

                        } else if (((month == 4) || (month == 6) || (month == 9) || (month == 11)) && day == 31) {
                            alert("Khong Hop Le");
                        } else {
                            checkValidate = true;
                        }
                    }
                } else alert("khong hop le")
            }
        }
    } while (!checkValidate);

    do {
        checkValidate = true;
        emailCustomer = prompt("Enter Email Customer: "); //Email
        let countDoc = 0;
        let countAt = 0;
        for (let i = 0; i < emailCustomer.length; i++) {
            if (emailCustomer.charAt(i) === "@") {
                countAt++;
            }
            if (emailCustomer.charAt(i) === ".") {
                countDoc++;
            }
        }
        if (countAt != 1 || countDoc < 1) {
            checkValidate = false;
            alert("Email khong hop le! Please try again");
        }
    } while (!checkValidate);

    alert("Information Of Customer: \n" +
        "Name " + nameCustomer +
        "\nID card : " + idCard +
        "\nBirthday : " + birthdayCustomer +
        "\nEmail : " + emailCustomer) +
    //     "\nAddress : " + addressCustomer +
    //     "\nType Customer : " + typeCustomer +
    "\nDiscount : " + discount +
    "\nAccompanying : " + numberOfAccompanying //+
    //     "\nID Room : " + typeRoom +
    "\nID Days : " + rentDays //+
    //     "\nID Service : " + typeService +
    //     "\nID Pays : " + totalPays
    // )


</script>

</body>
</html>